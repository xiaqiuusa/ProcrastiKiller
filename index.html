<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProcrastiKiller - Level Up Your Productivity</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(0, 0, 0, 0.9);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        header h1 {
            color: #ff6b6b;
            font-size: 2rem;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .stats-bar {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: white;
            font-weight: bold;
        }

        .stat-icon {
            font-size: 1.2rem;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        nav a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        nav a:hover {
            color: #ff6b6b;
        }

        /* Hero Section */
        .hero {
            padding: 120px 0 80px;
            text-align: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .hero h2 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hero p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        /* Task Management Section */
        .task-management {
            padding: 80px 0;
            background: white;
        }

        .task-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .task-form {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .task-form h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
            color: #555;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ff6b6b;
        }

        .task-list {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .task-list h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .task-item {
            background: white;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s ease;
        }

        .task-item:hover {
            transform: translateX(5px);
        }

        .task-item.completed {
            border-left-color: #28a745;
            opacity: 0.7;
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .task-title {
            font-weight: bold;
            color: #333;
        }

        .task-reward {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #333;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .task-description {
            color: #666;
            margin-bottom: 0.5rem;
        }

        .task-time {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .time-info {
            color: #666;
        }

        .time-bonus {
            color: #ff6b6b;
            font-weight: bold;
        }

        .task-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn-complete {
            background: #28a745;
            color: white;
        }

        .btn-complete:hover {
            background: #218838;
        }

        .btn-delete {
            background: #dc3545;
            color: white;
        }

        .btn-delete:hover {
            background: #c82333;
        }

        .btn-edit {
            background: #17a2b8;
            color: white;
        }

        .btn-edit:hover {
            background: #138496;
        }

        /* Progress Bar */
        .progress-container {
            background: #e9ecef;
            border-radius: 10px;
            padding: 0.5rem;
            margin: 1rem 0;
        }

        .progress-bar {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            height: 20px;
            border-radius: 10px;
            transition: width 0.3s ease;
            position: relative;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Weapons Section */
        .weapons {
            padding: 80px 0;
            background: #f8f9fa;
        }

        .weapons-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .gacha-section {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .gacha-section h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .gacha-cost {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #333;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1.5rem;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .gacha-button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
            margin-bottom: 1rem;
        }

        .gacha-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .gacha-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .weapon-inventory {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .weapon-inventory h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .weapon-tabs {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 2px solid #e9ecef;
        }

        .tab-button {
            padding: 0.8rem 1.5rem;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: bold;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab-button.active {
            color: #ff6b6b;
            border-bottom-color: #ff6b6b;
        }

        .tab-button:hover {
            color: #ff6b6b;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .crafting-section {
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .crafting-section h4 {
            color: #333;
            margin-bottom: 0.5rem;
        }

        .crafting-section p {
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .crafting-slots {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .crafting-slot {
            width: 120px;
            height: 120px;
            border: 2px dashed #ccc;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .crafting-slot:hover {
            border-color: #ff6b6b;
            background: #fff5f5;
        }

        .crafting-slot.selected {
            border-color: #ff6b6b;
            background: #fff5f5;
        }

        .crafting-slot.filled {
            border-color: #28a745;
            background: #f8fff9;
        }

        .slot-placeholder {
            color: #999;
            font-size: 0.8rem;
            text-align: center;
        }

        .crafting-plus,
        .crafting-equals {
            font-size: 1.5rem;
            font-weight: bold;
            color: #666;
        }

        .crafting-result {
            width: 120px;
            height: 120px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
        }

        .result-placeholder {
            color: #999;
            font-size: 0.8rem;
            text-align: center;
        }

        .merge-button {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 10px;
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .merge-button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.4);
        }

        .merge-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .weapon-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .weapon-card {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
            border: 2px solid transparent;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .weapon-card:hover {
            transform: translateY(-5px);
        }

        .weapon-card.owned {
            border-color: #28a745;
        }

        .weapon-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .weapon-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5rem;
        }

        .weapon-damage {
            color: #666;
            margin-bottom: 0.5rem;
        }

        .weapon-rarity {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .rarity-common {
            background: #d4edda;
            color: #155724;
        }

        .rarity-uncommon {
            background: #cce7ff;
            color: #004085;
        }

        .rarity-rare {
            background: #e2d9f3;
            color: #6f42c1;
        }

        .rarity-epic {
            background: #ffeaa7;
            color: #d63031;
        }

        .rarity-legendary {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #333;
        }

        .pull-result {
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
            margin-top: 1rem;
            display: none;
        }

        .pull-result.show {
            display: block;
            animation: fadeInUp 0.6s ease-out;
        }

        .pull-result h4 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .pull-result .weapon-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        /* Battle Mode Section */
        .battle {
            padding: 80px 0;
            background: white;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: #333;
        }

        .battle-container {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 2rem;
            margin-top: 2rem;
        }

        .battle-info {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .battle-info h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .battle-stats {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .battle-stats .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: #333;
            font-weight: bold;
        }

        .battle-arena {
            background: #f8f9fa;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .battle-arena h3 {
            color: #333;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .weapon-selection {
            margin-bottom: 1rem;
        }

        .weapon-selection label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }

        .weapon-selection select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #ddd;
            border-radius: 8px;
        }

        .monster-display {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .monster-icon {
            font-size: 3rem;
        }

        .monster-name {
            font-weight: bold;
            color: #333;
            font-size: 1.2rem;
        }

        .monster-health {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .health-bar {
            width: 200px;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            overflow: hidden;
        }

        .health-fill {
            height: 100%;
            background: linear-gradient(45deg, #28a745, #20c997);
            transition: width 0.3s ease;
        }

        .health-text {
            font-weight: bold;
            color: #333;
        }

        .battle-actions {
            display: flex;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .attack-button {
            padding: 1rem 2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            width: 100%;
        }

        .attack-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .attack-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .battle-log {
            margin-top: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 10px;
            height: 200px;
            overflow-y: auto;
            border: 2px solid #e9ecef;
        }

        .battle-log .log-entry {
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: 5px;
            font-size: 0.9rem;
        }

        .log-entry.attack {
            background: #fff3cd;
            color: #856404;
        }

        .log-entry.defeat {
            background: #d4edda;
            color: #155724;
        }

        .log-entry.spawn {
            background: #cce7ff;
            color: #004085;
        }

        /* CTA Section */
        .cta {
            padding: 80px 0;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            text-align: center;
        }

        .cta h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .cta p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Footer */
        footer {
            background: #333;
            color: white;
            padding: 40px 0;
            text-align: center;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .footer-section h3 {
            color: #ff6b6b;
            margin-bottom: 1rem;
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: #ccc;
            text-decoration: none;
        }

        .footer-section a:hover {
            color: #ff6b6b;
        }

        .footer-bottom {
            border-top: 1px solid #555;
            padding-top: 2rem;
            color: #ccc;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero h2 {
                font-size: 2.5rem;
            }

            nav ul {
                flex-direction: column;
                gap: 1rem;
            }

            .task-container,
            .weapons-container,
            .battle-container {
                grid-template-columns: 1fr;
            }

            .features-grid,
            .testimonials-grid {
                grid-template-columns: 1fr;
            }

            .stats-bar {
                flex-direction: column;
                gap: 0.5rem;
            }

            .weapon-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }

            .battle-actions {
                flex-direction: column;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        @keyframes coinCollect {
            0% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.5) rotate(180deg); }
            100% { transform: scale(1) rotate(360deg); }
        }

        .coin-animation {
            animation: coinCollect 0.6s ease-in-out;
        }

        @keyframes levelUp {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .level-up-animation {
            animation: levelUp 0.8s ease-in-out;
        }

        @keyframes weaponPull {
            0% { transform: scale(0) rotate(0deg); }
            50% { transform: scale(1.2) rotate(180deg); }
            100% { transform: scale(1) rotate(360deg); }
        }

        .weapon-pull-animation {
            animation: weaponPull 1s ease-in-out;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <h1>ProcrastiKiller</h1>
            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-icon">🪙</span>
                    <span id="coins">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-icon">⭐</span>
                    <span id="xp">0</span> XP
                </div>
                <div class="stat-item">
                    <span class="stat-icon">🏆</span>
                    <span id="level">1</span>
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="#task-management">Tasks</a></li>
                    <li><a href="#weapons">Weapons</a></li>
                    <li><a href="#battle">Battle</a></li>
                    <li><a href="#cta">Get Started</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h2>Level Up Your Productivity</h2>
            <p>Transform your daily tasks into epic quests. Complete tasks, earn coins and XP, and unlock powerful weapons and gear in the ultimate productivity game!</p>
            <a href="#task-management" class="cta-button">Start Your Quest</a>
        </div>
    </section>

    <!-- Task Management Section -->
    <section id="task-management" class="task-management">
        <div class="container">
            <h2 class="section-title">Task Management</h2>
            <div class="progress-container">
                <div class="progress-bar" id="xp-progress" style="width: 0%">
                    <div class="progress-text" id="xp-text">0 / 100 XP</div>
                </div>
            </div>
            <div class="task-container">
                <div class="task-form">
                    <h3>Create New Task</h3>
                    <form id="task-form">
                        <div class="form-group">
                            <label for="task-title">Task Title</label>
                            <input type="text" id="task-title" required>
                        </div>
                        <div class="form-group">
                            <label for="task-description">Description</label>
                            <textarea id="task-description" rows="3"></textarea>
                        </div>
                        <button type="submit" class="cta-button">Create Task</button>
                    </form>
                </div>
                <div class="task-list">
                    <h3>Your Tasks</h3>
                    <div id="tasks-container">
                        <!-- Tasks will be dynamically added here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Weapons Section -->
    <section id="weapons" class="weapons">
        <div class="container">
            <h2 class="section-title">Weapon Arsenal</h2>
            <div class="weapons-container">
                <div class="gacha-section">
                    <h3>Gacha Pull</h3>
                    <div class="gacha-cost">
                        Cost: 100 🪙 Coins
                    </div>
                    <button id="gacha-button" class="gacha-button" onclick="pullWeapon()">Pull Weapon</button>
                    <div id="pull-result" class="pull-result">
                        <h4>You got:</h4>
                        <div id="pull-weapon-icon" class="weapon-icon"></div>
                        <div id="pull-weapon-name" class="weapon-name"></div>
                        <div id="pull-weapon-damage" class="weapon-damage"></div>
                        <div id="pull-weapon-rarity" class="weapon-rarity"></div>
                    </div>
                </div>
                <div class="weapon-inventory">
                    <h3>Your Weapons</h3>
                    <div class="weapon-tabs">
                        <button class="tab-button active" onclick="switchTab('inventory')">Inventory</button>
                        <button class="tab-button" onclick="switchTab('crafting')">Crafting</button>
                    </div>
                    <div id="inventory-tab" class="tab-content active">
                        <div id="weapons-grid" class="weapon-grid">
                            <!-- Weapons will be dynamically added here -->
                        </div>
                    </div>
                    <div id="crafting-tab" class="tab-content">
                        <div class="crafting-section">
                            <h4>Merge Weapons</h4>
                            <p>Select two of the same weapon to merge and increase damage by 0.5%</p>
                            <div class="crafting-slots">
                                <div class="crafting-slot" onclick="selectWeaponForCrafting(0)">
                                    <div class="slot-placeholder">Select Weapon 1</div>
                                </div>
                                <div class="crafting-plus">+</div>
                                <div class="crafting-slot" onclick="selectWeaponForCrafting(1)">
                                    <div class="slot-placeholder">Select Weapon 2</div>
                                </div>
                                <div class="crafting-equals">=</div>
                                <div class="crafting-result">
                                    <div class="result-placeholder">Result</div>
                                </div>
                            </div>
                            <button id="merge-button" class="merge-button" onclick="mergeWeapons()" disabled>Merge Weapons</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Battle Mode Section -->
    <section id="battle" class="battle">
        <div class="container">
            <h2 class="section-title">Battle Arena</h2>
            <div class="battle-container">
                <div class="battle-info">
                    <h3>Battle Stats</h3>
                    <div class="battle-stats">
                        <div class="stat-item">
                            <span class="stat-icon">⚔️</span>
                            <span>Best Weapon: <span id="best-weapon">None</span></span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">💪</span>
                            <span>Total Damage: <span id="total-damage">0</span></span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-icon">🎯</span>
                            <span>Monsters Defeated: <span id="monsters-defeated">0</span></span>
                        </div>
                    </div>
                </div>
                <div class="battle-arena">
                    <h3>Current Battle</h3>
                    <div class="weapon-selection">
                        <label for="weapon-select">Select Weapon:</label>
                        <select id="weapon-select" onchange="changeWeapon()">
                            <option value="none">Fists (5 damage)</option>
                        </select>
                    </div>
                    <div class="monster-display">
                        <div id="monster-icon" class="monster-icon">👹</div>
                        <div id="monster-name" class="monster-name">Slime</div>
                        <div class="monster-health">
                            <div class="health-bar">
                                <div id="monster-health-bar" class="health-fill" style="width: 100%"></div>
                            </div>
                            <span id="monster-health-text">HP: 50/50</span>
                        </div>
                    </div>
                    <div class="battle-actions">
                        <button id="attack-button" class="attack-button" onclick="attackMonster()">Attack (Cost: 5 XP)</button>
                    </div>
                    <div id="battle-log" class="battle-log">
                        <!-- Battle messages will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section id="cta" class="cta">
        <div class="container">
            <h2>Ready to Start Your Epic Journey?</h2>
            <p>Join thousands of heroes who have already transformed their productivity with ProcrastiKiller. Your quest begins now!</p>
            <a href="#" class="cta-button" onclick="startQuest()">Begin Your Adventure</a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>ProcrastiKiller</h3>
                    <p>Level up your productivity with the ultimate gamified task management app.</p>
                </div>
                <div class="footer-section">
                    <h3>Features</h3>
                    <ul>
                        <li><a href="#features">Task Battles</a></li>
                        <li><a href="#features">Weapon Arsenal</a></li>
                        <li><a href="#features">Quest System</a></li>
                        <li><a href="#features">Guild Battles</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Support</h3>
                    <ul>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">Contact Us</a></li>
                        <li><a href="#">Community</a></li>
                        <li><a href="#">API Docs</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="#">Privacy Policy</a></li>
                        <li><a href="#">Terms of Service</a></li>
                        <li><a href="#">Cookie Policy</a></li>
                        <li><a href="#">GDPR</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ProcrastiKiller. All rights reserved. Level up your productivity!</p>
            </div>
        </div>
    </footer>

    <script>
        // Game state
        let gameState = {
            coins: 0,
            xp: 0,
            level: 1,
            tasks: [],
            weapons: [],
            selectedWeapon: null,
            monstersDefeated: 0,
            totalDamage: 0,
            nextLevelXp: 100
        };

        // Current monster state
        let currentMonster = null;

        // Crafting state
        let craftingSlots = [null, null];
        let currentCraftingSlot = 0;

        // Monster definitions
        const monsters = [
            {
                name: "Slime",
                icon: "👹",
                maxHealth: 50,
                coinReward: 10,
                xpReward: 5,
                difficulty: "easy"
            },
            {
                name: "Goblin",
                icon: "👺",
                maxHealth: 80,
                coinReward: 15,
                xpReward: 8,
                difficulty: "easy"
            },
            {
                name: "Orc",
                icon: "🧌",
                maxHealth: 120,
                coinReward: 25,
                xpReward: 12,
                difficulty: "medium"
            },
            {
                name: "Troll",
                icon: "👹",
                maxHealth: 200,
                coinReward: 40,
                xpReward: 20,
                difficulty: "medium"
            },
            {
                name: "Dragon",
                icon: "🐉",
                maxHealth: 500,
                coinReward: 100,
                xpReward: 50,
                difficulty: "hard"
            },
            {
                name: "Demon",
                icon: "😈",
                maxHealth: 800,
                coinReward: 150,
                xpReward: 80,
                difficulty: "hard"
            }
        ];

        // Weapon definitions with rarity and damage
        const weapons = [
            {
                id: 1,
                name: "Wooden Sword",
                icon: "🗡️",
                damage: 10,
                rarity: "common",
                chance: 40
            },
            {
                id: 2,
                name: "Iron Axe",
                icon: "🪓",
                damage: 25,
                rarity: "uncommon",
                chance: 30
            },
            {
                id: 3,
                name: "Magic Staff",
                icon: "🔮",
                damage: 50,
                rarity: "rare",
                chance: 20
            },
            {
                id: 4,
                name: "Dragon Blade",
                icon: "⚔️",
                damage: 100,
                rarity: "epic",
                chance: 8
            },
            {
                id: 5,
                name: "Legendary Bow",
                icon: "🏹",
                damage: 200,
                rarity: "legendary",
                chance: 2
            }
        ];

        // Load game state from localStorage
        function loadGameState() {
            const saved = localStorage.getItem('procrastiKillerState');
            if (saved) {
                gameState = JSON.parse(saved);
                updateUI();
            }
        }

        // Save game state to localStorage
        function saveGameState() {
            localStorage.setItem('procrastiKillerState', JSON.stringify(gameState));
        }

        // Update UI with current game state
        function updateUI() {
            document.getElementById('coins').textContent = gameState.coins;
            document.getElementById('xp').textContent = gameState.xp;
            document.getElementById('level').textContent = gameState.level;
            
            const progressPercent = (gameState.xp / gameState.nextLevelXp) * 100;
            document.getElementById('xp-progress').style.width = progressPercent + '%';
            document.getElementById('xp-text').textContent = `${gameState.xp} / ${gameState.nextLevelXp} XP`;
            
            renderTasks();
            renderWeapons();
            updateGachaButton();
            updateBattleUI();
        }

        // Update gacha button state
        function updateGachaButton() {
            const gachaButton = document.getElementById('gacha-button');
            if (gameState.coins >= 100) {
                gachaButton.disabled = false;
                gachaButton.textContent = 'Pull Weapon (100 🪙)';
            } else {
                gachaButton.disabled = true;
                gachaButton.textContent = `Need ${100 - gameState.coins} more coins`;
            }
        }

        // Pull weapon from gacha
        function pullWeapon() {
            if (gameState.coins < 100) {
                alert('Not enough coins! You need 100 coins to pull a weapon.');
                return;
            }

            // Deduct coins
            gameState.coins -= 100;
            
            // Generate random number for rarity
            const random = Math.random() * 100;
            let cumulativeChance = 0;
            let selectedWeapon = null;

            // Select weapon based on rarity chances
            for (const weapon of weapons) {
                cumulativeChance += weapon.chance;
                if (random <= cumulativeChance) {
                    selectedWeapon = weapon;
                    break;
                }
            }

            // If no weapon selected (shouldn't happen), default to common
            if (!selectedWeapon) {
                selectedWeapon = weapons[0];
            }

            // Add weapon to inventory
            const weaponCopy = { ...selectedWeapon };
            weaponCopy.owned = true;
            gameState.weapons.push(weaponCopy);

            // Show pull result
            showPullResult(selectedWeapon);

            // Update UI
            updateUI();
            saveGameState();
        }

        // Show pull result
        function showPullResult(weapon) {
            const pullResult = document.getElementById('pull-result');
            const weaponIcon = document.getElementById('pull-weapon-icon');
            const weaponName = document.getElementById('pull-weapon-name');
            const weaponDamage = document.getElementById('pull-weapon-damage');
            const weaponRarity = document.getElementById('pull-weapon-rarity');

            weaponIcon.textContent = weapon.icon;
            weaponName.textContent = weapon.name;
            weaponDamage.textContent = `Damage: ${weapon.damage}`;
            weaponRarity.textContent = weapon.rarity.toUpperCase();
            weaponRarity.className = `weapon-rarity rarity-${weapon.rarity}`;

            pullResult.classList.add('show');

            // Hide result after 3 seconds
            setTimeout(() => {
                pullResult.classList.remove('show');
            }, 3000);
        }

        // Render weapons
        function renderWeapons() {
            const container = document.getElementById('weapons-grid');
            container.innerHTML = '';

            if (gameState.weapons.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; font-style: italic; grid-column: 1 / -1;">No weapons yet. Pull from the gacha to get your first weapon!</p>';
                return;
            }

            gameState.weapons.forEach(weapon => {
                const weaponElement = document.createElement('div');
                weaponElement.className = 'weapon-card owned';
                
                weaponElement.innerHTML = `
                    <div class="weapon-icon">${weapon.icon}</div>
                    <div class="weapon-name">${weapon.name}</div>
                    <div class="weapon-damage">Damage: ${weapon.damage}</div>
                    <div class="weapon-rarity rarity-${weapon.rarity}">${weapon.rarity.toUpperCase()}</div>
                `;
                
                container.appendChild(weaponElement);
            });

            // Update weapon selection dropdown
            updateWeaponSelection();
        }

        // Update weapon selection dropdown
        function updateWeaponSelection() {
            const weaponSelect = document.getElementById('weapon-select');
            weaponSelect.innerHTML = '<option value="none">Fists (5 damage)</option>';
            
            gameState.weapons.forEach(weapon => {
                const option = document.createElement('option');
                option.value = weapon.id;
                option.textContent = `${weapon.name} (${weapon.damage} damage)`;
                weaponSelect.appendChild(option);
            });

            // Set selected weapon
            if (gameState.selectedWeapon) {
                weaponSelect.value = gameState.selectedWeapon;
            }
        }

        // Change selected weapon
        function changeWeapon() {
            const weaponSelect = document.getElementById('weapon-select');
            const selectedValue = weaponSelect.value;
            
            if (selectedValue === 'none') {
                gameState.selectedWeapon = null;
            } else {
                gameState.selectedWeapon = parseInt(selectedValue);
            }
            
            saveGameState();
        }

        // Add XP and check for level up
        function addXP(amount) {
            gameState.xp += amount;
            
            // Check for level up
            while (gameState.xp >= gameState.nextLevelXp) {
                gameState.xp -= gameState.nextLevelXp;
                gameState.level++;
                gameState.nextLevelXp = Math.floor(gameState.nextLevelXp * 1.5);
                
                // Level up animation
                const levelElement = document.getElementById('level');
                levelElement.classList.add('level-up-animation');
                setTimeout(() => {
                    levelElement.classList.remove('level-up-animation');
                }, 800);
                
                alert(`🎉 LEVEL UP! You are now level ${gameState.level}! 🎉`);
            }
            
            updateUI();
            saveGameState();
        }

        // Add coins with animation
        function addCoins(amount) {
            gameState.coins += amount;
            
            // Coin animation
            const coinElement = document.getElementById('coins');
            coinElement.classList.add('coin-animation');
            setTimeout(() => {
                coinElement.classList.remove('coin-animation');
            }, 600);
            
            updateUI();
            saveGameState();
        }

        // Create new task
        function createTask(title, description) {
            const task = {
                id: Date.now(),
                title: title,
                description: description,
                completed: false,
                createdAt: new Date().toISOString()
            };
            
            gameState.tasks.unshift(task);
            updateUI();
            saveGameState();
        }

        // Complete task
        function completeTask(taskId) {
            const task = gameState.tasks.find(t => t.id === taskId);
            if (task && !task.completed) {
                task.completed = true;
                
                // Calculate time-based rewards
                const now = new Date();
                const created = new Date(task.createdAt);
                const timeDiff = now - created;
                const minutesPassed = Math.floor(timeDiff / (1000 * 60));
                
                // Calculate coins based on time
                let coins = 0;
                if (minutesPassed >= 5) {
                    // After 5 minutes, every 5 minutes adds 5 coins
                    const bonusPeriods = Math.floor((minutesPassed - 5) / 5);
                    coins = Math.min(60, bonusPeriods * 5); // Max 60 coins
                }
                
                // Calculate XP based on time
                let xp = 0;
                if (minutesPassed >= 5) {
                    // After 5 minutes, every 5 minutes adds 10 XP
                    const bonusPeriods = Math.floor((minutesPassed - 5) / 5);
                    xp = Math.min(120, bonusPeriods * 10); // Max 120 XP
                }
                
                addCoins(coins);
                addXP(xp);
                
                const timeMessage = minutesPassed < 5 ? 
                    'Task completed quickly! No bonus rewards.' : 
                    `Task completed after ${minutesPassed} minutes! +${coins} coins, +${xp} XP`;
                
                alert(`🎯 ${timeMessage}`);
            }
        }

        // Delete task
        function deleteTask(taskId) {
            gameState.tasks = gameState.tasks.filter(t => t.id !== taskId);
            updateUI();
            saveGameState();
        }

        // Render tasks
        function renderTasks() {
            const container = document.getElementById('tasks-container');
            container.innerHTML = '';
            
            if (gameState.tasks.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666; font-style: italic;">No tasks yet. Create your first task to begin your quest!</p>';
                return;
            }
            
            gameState.tasks.forEach(task => {
                const taskElement = document.createElement('div');
                taskElement.className = `task-item ${task.completed ? 'completed' : ''}`;
                
                // Calculate time-based rewards for display
                const now = new Date();
                const created = new Date(task.createdAt);
                const timeDiff = now - created;
                const minutesPassed = Math.floor(timeDiff / (1000 * 60));
                
                let coins = 0;
                if (minutesPassed >= 5) {
                    const bonusPeriods = Math.floor((minutesPassed - 5) / 5);
                    coins = Math.min(60, bonusPeriods * 5);
                }
                
                let xp = 0;
                if (minutesPassed >= 5) {
                    const bonusPeriods = Math.floor((minutesPassed - 5) / 5);
                    xp = Math.min(120, bonusPeriods * 10);
                }
                
                taskElement.innerHTML = `
                    <div class="task-header">
                        <div class="task-title">${task.title}</div>
                        <div class="task-reward">+${coins} 🪙 +${xp} ⭐</div>
                    </div>
                    <div class="task-description">${task.description}</div>
                    <div class="task-time">
                        <span class="time-info">Created: ${new Date(task.createdAt).toLocaleTimeString()}</span>
                        ${!task.completed ? `<span class="time-bonus">${minutesPassed < 5 ? 'Complete after 5+ min for rewards!' : `+${coins} coins, +${xp} XP available`}</span>` : ''}
                    </div>
                    <div class="task-actions">
                        ${!task.completed ? 
                            `<button class="btn btn-complete" onclick="completeTask(${task.id})">Complete</button>` : 
                            '<span style="color: #28a745; font-weight: bold;">✓ Completed</span>'
                        }
                        <button class="btn btn-delete" onclick="deleteTask(${task.id})">Delete</button>
                    </div>
                `;
                
                container.appendChild(taskElement);
            });
        }

        // Task form submission
        document.getElementById('task-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const title = document.getElementById('task-title').value;
            const description = document.getElementById('task-description').value;
            
            createTask(title, description);
            
            // Reset form
            this.reset();
        });

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in-up');
                }
            });
        }, observerOptions);

        // Observe all feature cards and testimonial cards
        document.querySelectorAll('.feature-card, .testimonial-card').forEach(el => {
            observer.observe(el);
        });

        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('header');
            if (window.scrollY > 100) {
                header.style.background = 'rgba(0, 0, 0, 0.95)';
            } else {
                header.style.background = 'rgba(0, 0, 0, 0.9)';
            }
        });

        // Start quest function
        function startQuest() {
            alert('🎮 Welcome to ProcrastiKiller! Your epic productivity journey begins now. Prepare to level up and become a legend! ⚔️');
        }

        // Initialize the game
        document.addEventListener('DOMContentLoaded', () => {
            loadGameState();
            
            // Add hover effects to feature cards
            const featureCards = document.querySelectorAll('.feature-card');
            featureCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    card.style.transform = 'translateY(-10px) scale(1.02)';
                });
                card.addEventListener('mouseleave', () => {
                    card.style.transform = 'translateY(0) scale(1)';
                });
            });

            // Add click effects to CTA buttons
            const ctaButtons = document.querySelectorAll('.cta-button');
            ctaButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    // Create ripple effect
                    const ripple = document.createElement('span');
                    const rect = button.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.width = ripple.style.height = size + 'px';
                    ripple.style.left = x + 'px';
                    ripple.style.top = y + 'px';
                    ripple.classList.add('ripple');
                    
                    button.appendChild(ripple);
                    
                    setTimeout(() => {
                        ripple.remove();
                    }, 600);
                });
            });
        });

        // Add CSS for ripple effect
        const style = document.createElement('style');
        style.textContent = `
            .cta-button {
                position: relative;
                overflow: hidden;
            }
            
            .ripple {
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.3);
                transform: scale(0);
                animation: ripple-animation 0.6s linear;
                pointer-events: none;
            }
            
            @keyframes ripple-animation {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Update battle UI
        function updateBattleUI() {
            // Update battle stats
            const bestWeapon = gameState.weapons.length > 0 ? 
                gameState.weapons.reduce((best, weapon) => weapon.damage > best.damage ? weapon : best) : null;
            
            document.getElementById('best-weapon').textContent = bestWeapon ? bestWeapon.name : 'None';
            document.getElementById('total-damage').textContent = gameState.totalDamage;
            document.getElementById('monsters-defeated').textContent = gameState.monstersDefeated;

            // Update weapon selection
            updateWeaponSelection();

            // Update attack button
            const attackButton = document.getElementById('attack-button');
            if (gameState.xp >= 5) {
                attackButton.disabled = false;
                attackButton.textContent = 'Attack (Cost: 5 XP)';
            } else {
                attackButton.disabled = true;
                attackButton.textContent = `Need ${5 - gameState.xp} more XP`;
            }

            // Auto-spawn monster if none exists
            if (!currentMonster) {
                spawnNewMonster();
            }
        }

        // Spawn new monster automatically
        function spawnNewMonster() {
            const randomMonster = monsters[Math.floor(Math.random() * monsters.length)];
            currentMonster = {
                ...randomMonster,
                currentHealth: randomMonster.maxHealth
            };

            // Update monster display
            document.getElementById('monster-icon').textContent = currentMonster.icon;
            document.getElementById('monster-name').textContent = currentMonster.name;
            document.getElementById('monster-health-bar').style.width = '100%';
            document.getElementById('monster-health-text').textContent = `HP: ${currentMonster.currentHealth}/${currentMonster.maxHealth}`;

            // Add to battle log
            addBattleLog(`A ${currentMonster.name} appears!`, 'spawn');
        }

        // Attack monster
        function attackMonster() {
            if (!currentMonster) {
                alert('No monster to attack! A new monster will spawn automatically.');
                return;
            }

            if (gameState.xp < 5) {
                alert('Not enough XP! You need 5 XP to attack.');
                return;
            }

            // Deduct XP
            gameState.xp -= 5;

            // Calculate damage (base damage + selected weapon damage)
            let damage = 5; // Base damage (fists)
            if (gameState.selectedWeapon) {
                const selectedWeapon = gameState.weapons.find(w => w.id === gameState.selectedWeapon);
                if (selectedWeapon) {
                    damage += selectedWeapon.damage;
                }
            }

            // Apply damage
            currentMonster.currentHealth -= damage;
            gameState.totalDamage += damage;

            // Update health bar
            const healthPercent = (currentMonster.currentHealth / currentMonster.maxHealth) * 100;
            document.getElementById('monster-health-bar').style.width = Math.max(0, healthPercent) + '%';
            document.getElementById('monster-health-text').textContent = `HP: ${Math.max(0, currentMonster.currentHealth)}/${currentMonster.maxHealth}`;

            // Add to battle log
            addBattleLog(`You attack for ${damage} damage!`, 'attack');

            // Check if monster is defeated
            if (currentMonster.currentHealth <= 0) {
                // Reward coins and XP
                const coinsEarned = currentMonster.coinReward;
                const xpEarned = currentMonster.xpReward;
                gameState.coins += coinsEarned;
                gameState.xp += xpEarned;
                gameState.monstersDefeated++;

                addBattleLog(`You defeated the ${currentMonster.name}! +${coinsEarned} coins, +${xpEarned} XP`, 'defeat');
                
                // Clear monster (will auto-spawn new one on next updateUI)
                currentMonster = null;
                document.getElementById('monster-icon').textContent = '💀';
                document.getElementById('monster-name').textContent = 'Defeated';
                document.getElementById('monster-health-bar').style.width = '0%';
                document.getElementById('monster-health-text').textContent = 'HP: 0/0';
            }

            updateUI();
            saveGameState();
        }

        // Add battle log entry
        function addBattleLog(message, type) {
            const battleLog = document.getElementById('battle-log');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry ${type}`;
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            
            battleLog.appendChild(logEntry);
            battleLog.scrollTop = battleLog.scrollHeight;
        }

        // Switch between inventory and crafting tabs
        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            document.getElementById(tabName + '-tab').classList.add('active');

            if (tabName === 'crafting') {
                updateCraftingDisplay();
            }
        }

        // Select weapon for crafting
        function selectWeaponForCrafting(slotIndex) {
            currentCraftingSlot = slotIndex;
            
            // Show weapon selection modal or highlight available weapons
            const availableWeapons = gameState.weapons.filter(weapon => {
                // Don't allow selecting the same weapon instance, but allow same weapon types
                return !craftingSlots.includes(weapon.id) || craftingSlots[slotIndex] === weapon.id;
            });

            if (availableWeapons.length === 0) {
                alert('No weapons available for crafting!');
                return;
            }

            // Create weapon selection list
            let weaponList = 'Select a weapon:\n';
            availableWeapons.forEach((weapon, index) => {
                weaponList += `${index + 1}. ${weapon.name} (${weapon.damage} damage)\n`;
            });

            const selection = prompt(weaponList);
            if (selection && !isNaN(selection) && selection > 0 && selection <= availableWeapons.length) {
                const selectedWeapon = availableWeapons[selection - 1];
                craftingSlots[slotIndex] = selectedWeapon.id;
                updateCraftingDisplay();
            }
        }

        // Update crafting display
        function updateCraftingDisplay() {
            const slots = document.querySelectorAll('.crafting-slot');
            const result = document.querySelector('.crafting-result');
            const mergeButton = document.getElementById('merge-button');

            // Update slots
            slots.forEach((slot, index) => {
                const weaponId = craftingSlots[index];
                if (weaponId) {
                    const weapon = gameState.weapons.find(w => w.id === weaponId);
                    if (weapon) {
                        slot.innerHTML = `
                            <div class="weapon-icon">${weapon.icon}</div>
                            <div class="weapon-name">${weapon.name}</div>
                            <div class="weapon-damage">${weapon.damage}</div>
                        `;
                        slot.classList.add('filled');
                        slot.classList.remove('selected');
                    }
                } else {
                    slot.innerHTML = '<div class="slot-placeholder">Select Weapon ' + (index + 1) + '</div>';
                    slot.classList.remove('filled', 'selected');
                }
            });

            // Update result preview
            if (craftingSlots[0] && craftingSlots[1]) {
                const weapon1 = gameState.weapons.find(w => w.id === craftingSlots[0]);
                const weapon2 = gameState.weapons.find(w => w.id === craftingSlots[1]);

                if (weapon1 && weapon2 && weapon1.name === weapon2.name) {
                    const damageIncrease = Math.max(1, Math.round(weapon1.damage * 0.005)); // At least +1 damage
                    const newDamage = weapon1.damage + damageIncrease;
                    result.innerHTML = `
                        <div class="weapon-icon">${weapon1.icon}</div>
                        <div class="weapon-name">${weapon1.name}</div>
                        <div class="weapon-damage">${newDamage}</div>
                    `;
                    mergeButton.disabled = false;
                } else {
                    result.innerHTML = '<div class="result-placeholder">Different weapons cannot be merged</div>';
                    mergeButton.disabled = true;
                }
            } else {
                result.innerHTML = '<div class="result-placeholder">Result</div>';
                mergeButton.disabled = true;
            }
        }

        // Merge weapons
        function mergeWeapons() {
            if (!craftingSlots[0] || !craftingSlots[1]) {
                alert('Please select two weapons to merge!');
                return;
            }

            const weapon1 = gameState.weapons.find(w => w.id === craftingSlots[0]);
            const weapon2 = gameState.weapons.find(w => w.id === craftingSlots[1]);

            if (!weapon1 || !weapon2) {
                alert('Invalid weapons selected!');
                return;
            }

            if (weapon1.name !== weapon2.name) {
                alert('You can only merge weapons of the same type!');
                return;
            }

            // Calculate new damage (0.5% increase)
            const damageIncrease = Math.max(1, Math.round(weapon1.damage * 0.005)); // At least +1 damage
            const newDamage = weapon1.damage + damageIncrease;

            // Remove the two weapons
            gameState.weapons = gameState.weapons.filter(w => w.id !== weapon1.id && w.id !== weapon2.id);

            // Create new merged weapon
            const mergedWeapon = {
                ...weapon1,
                id: Date.now(), // New unique ID
                damage: newDamage
            };

            // Add merged weapon to inventory
            gameState.weapons.push(mergedWeapon);

            // Clear crafting slots
            craftingSlots = [null, null];

            // Update displays
            updateCraftingDisplay();
            renderWeapons();
            updateWeaponSelection();
            saveGameState();

            alert(`Successfully merged ${weapon1.name}! New damage: ${newDamage} (was ${weapon1.damage})`);
        }
    </script>
</body>
</html>